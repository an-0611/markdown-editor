(this["webpackJsonpmarkdown-editor"]=this["webpackJsonpmarkdown-editor"]||[]).push([[0],{160:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"GET_ARTICLES_DATA",(function(){return h})),n.d(a,"UPDATE_ARTICLE_DATA",(function(){return p})),n.d(a,"getArticlesData",(function(){return f})),n.d(a,"updateArticleData",(function(){return g}));var i=n(0),c=n.n(i),r=n(24),l=n.n(r),o=n(21),s=n(14),d=(n(68),n(8)),u=n(57),m=n(18),h="GET_ARTICLE_DATA",p="UPDATE_ARTICLE_DATA";function f(e){return{type:h}}function g(e,t,n,a){return{type:p,payload:{id:e,title:t,content:n,modifiedTime:a}}}var v={articles:[{id:"1579242010189",title:"title1",content:"# This is a header\n\nAnd this is a paragraph",modifiedTime:1579157754943},{id:"1579242043136",title:"title2",content:"### Step 1 : Create your app\n        ```$ npm install -g create-react-app $ create-react-app my-app\n        ``` ### Step 2 : Build it for production",modifiedTime:1579197794943}]};var E=Object(d.b)({articlesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(m.a)({},e);case p:var n=e.articles.findIndex((function(e){return e.id===t.payload.id})),a={id:t.payload.id,title:t.payload.title,content:t.payload.content,modifiedTime:t.payload.modifiedTime};return n>=0&&(e.articles[n]=a),localStorage.setItem("articles",JSON.stringify(e.articles)),Object(m.a)({},e,{articles:Object(u.a)(e.articles)});default:return e}}});var b=n(16);n(69);var C=function(e){var t=e.handleClick;return c.a.createElement("div",{onClick:t},c.a.createElement("svg",{className:"octicon octicon-plus",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16",fill:"#fff","aria-hidden":"true"},c.a.createElement("path",{fillRule:"evenodd",d:"M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"})))},A=n(9),O=n(20),y=n.n(O),T=n(10);function N(){var e=Object(A.a)(["\n  font-size: 8px;\n  color: black;\n  border-top: 1px solid black;\n  opacity: .7;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]);return N=function(){return e},e}var j=T.a.div(N());function k(e){var t=e.modifiedTime;return c.a.createElement(j,null,c.a.createElement("div",null,"Last-Modified: ".concat(function(e){if(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),c=t.getHours(),r=t.getMinutes(),l=t.getSeconds();return"".concat(n,"/").concat(a>9?a:"0".concat(a),"/").concat(i," - ").concat(c>9?c:"0".concat(c),":").concat(r>9?r:"0".concat(r),":").concat(l>9?l:"0".concat(l))}}(t))))}function w(){var e=Object(A.a)(["\n    border: 1px solid #cfefdf;\n    background-color: #ebf8f2;\n    position: relative;\n    padding: 8px 48px 8px 38px;\n    border-radius: 4px;\n    color: rgba(0,0,0,.65);\n    font-size: 12px;\n    line-height: 1.5;\n    & > i {\n        color: #00a854;\n        display: inline-block;\n        font-style: normal;\n        font-size: 14px;\n        top: 10px;\n        left: 16px;\n        position: absolute;\n        vertical-align: baseline;\n        text-align: center;\n        text-transform: none;\n        line-height: 1;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n    }\n"]);return w=function(){return e},e}var x=T.a.div(w());var S=Object(s.b)((function(e){return{articles:e.articlesReducer.articles}}))((function(e){var t=e.history,n=e.articles,a=localStorage.getItem("articles")?JSON.parse(localStorage.getItem("articles")):n;return c.a.createElement(i.Fragment,null,t.location.state&&t.location.state.successCreateArticle&&c.a.createElement(x,{className:"fade-out"},c.a.createElement("i",{className:"ant-alert-icon anticon anticon-check-circle"}),c.a.createElement("span",null,"\u65b0\u589e\u4e86\u4e00\u7bc7\u6587\u7ae0! \u4e09\u79d2\u5f8c\u95dc\u9589\u63d0\u9192")),0===a.length&&c.a.createElement("div",null,"\u6c92\u6709\u4efb\u4f55\u4e00\u7bc7\u6587\u7ae0"),a.length>0&&a.map((function(e,n){return c.a.createElement("div",{key:n,className:"ArticleContainer hover-effect fade-in",onClick:function(){t.push("/article/".concat(e.id))}},c.a.createElement("div",{className:"ArticleContent"},c.a.createElement("div",{className:"title"},e.title),c.a.createElement(y.a,{className:"padding-10",source:e.content})),c.a.createElement(k,{modifiedTime:e.modifiedTime}))})),c.a.createElement("div",{className:"bottomBtn fade-in-delay"},"\u5df2\u7d93\u662f\u6700\u5f8c\u4e00\u7bc7\u6587\u7ae0\u4e86"))})),D=n(25),_=n(26),M=n(29),I=n(27),B=n(4),R=n(28),L=n(55);n(149),n(150),n(151),n(152);function z(e){var t=e.content,n=e.onChange;return c.a.createElement(L.Controlled,{value:t,options:{mode:"markdown",theme:"eclipse",lineNumbers:!0},onBeforeChange:function(e,t,a){n(a)},onChange:function(e,t,n){}})}function J(){var e=Object(A.a)(["\n  margin-left: 10px;\n  font-size: 16px;\n  color: red;\n"]);return J=function(){return e},e}var U=T.a.span(J());function V(e){var t=e.errorMessage;return c.a.createElement(U,null,t)}function F(){var e=Object(A.a)(["\n    width: 100%;\n    padding: 12px 24px;\n    border: 1px solid;\n    color: #ec4646;\n    background: transparent;\n    text-align: center;\n    font-size: 15px;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n    cursor: pointer;\n    transition: 0.3s ease all;\n"]);return F=function(){return e},e}var H=T.a.button(F()),P=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(M.a)(this,Object(I.a)(t).call(this,e))).state={mappingArticle:{},ableEdit:!1,title:"",content:"",modifiedTime:0,articles:localStorage.getItem("articles")?JSON.parse(localStorage.getItem("articles")):e.articles,errorMessage:"",showDoneBtn:!1},n.handleChangeTitle=n.handleChangeTitle.bind(Object(B.a)(n)),n.handleChangeContent=n.handleChangeContent.bind(Object(B.a)(n)),n.editArticle=n.editArticle.bind(Object(B.a)(n)),n.submitEdit=n.submitEdit.bind(Object(B.a)(n)),n.cancelEdit=n.cancelEdit.bind(Object(B.a)(n)),n}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id,n=e.history,a=this.state.articles.find((function(e){return e.id===t}));a?this.setState({mappingArticle:a,title:a.title,content:a.content,modifiedTime:a.modifiedTime}):n.push("/404/")}},{key:"componentDidUpdate",value:function(e,t){t.mappingArticle.title===this.state.title||t.showDoneBtn||this.setState({showDoneBtn:!0}),t.mappingArticle.content===this.state.content||t.showDoneBtn||this.setState({showDoneBtn:!0}),t.mappingArticle.title===this.state.title&&t.mappingArticle.content===this.state.content&&t.showDoneBtn&&this.setState({showDoneBtn:!1})}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value}),this.state.errorMessage&&""!==e.target.value&&this.setState({errorMessage:""})}},{key:"handleChangeContent",value:function(e){this.setState({content:e})}},{key:"editArticle",value:function(){this.setState({ableEdit:!0})}},{key:"submitEdit",value:function(e){var t=this.props.actions,n=this.state,a=n.title,i=n.content;if(""!==a.trim()&&0!==a.length){var c=(new Date).getTime();this.setState({ableEdit:!1,modifiedTime:c}),t.updateArticleData(e,a,i,c)}else this.setState({errorMessage:"\u6a19\u984c\u4e0d\u53ef\u70ba\u7a7a\uff0c\u8acb\u81f3\u5c11\u8f38\u5165\u4e00\u5b57"})}},{key:"cancelEdit",value:function(){var e=this.state.mappingArticle;this.setState({ableEdit:!1,title:e.title,content:e.content,modifiedTime:e.modifiedTime})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match.params.id,a=t.history,r=this.state,l=r.ableEdit,o=r.title,s=r.content,d=r.modifiedTime,u=r.errorMessage,m=r.showDoneBtn;return c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"ArticleContainer"},c.a.createElement("div",{className:"ArticleContent"},c.a.createElement("div",{className:"title"},!l&&o,!l&&c.a.createElement("div",{className:"btn",onClick:function(){e.editArticle(n)}},"edit"),l&&c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:o,onChange:this.handleChangeTitle,placeholder:"\u8acb\u8f38\u5165\u81f3\u5c11\u4e00\u500b\u5b57\u5143"}),u&&c.a.createElement(V,{errorMessage:u}),c.a.createElement("div",{className:"btn",onClick:function(){e.cancelEdit()}},"cancel"),m&&c.a.createElement("div",{className:"btn",onClick:function(){e.submitEdit(n)}},"done"))),!l&&c.a.createElement(y.a,{className:"padding-10",source:s}),l&&c.a.createElement(z,{content:s,onChange:this.handleChangeContent})),c.a.createElement(k,{modifiedTime:d})),c.a.createElement(H,{className:"fade-in-delay",onClick:function(){a.push("/")}},"back to Articles"))}}]),t}(i.Component),X=Object(s.b)((function(e){return{articles:e.articlesReducer.articles}}),(function(e){return{actions:Object(d.a)(Object(m.a)({},a),e)}}))(P),$=(n(153),function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(M.a)(this,Object(I.a)(t).call(this,e))).state={title:"",content:"",errorMessage:""},n.handleChangeTitle=n.handleChangeTitle.bind(Object(B.a)(n)),n.handleChangeContent=n.handleChangeContent.bind(Object(B.a)(n)),n.createArticle=n.createArticle.bind(Object(B.a)(n)),n.clearArticle=n.clearArticle.bind(Object(B.a)(n)),n}return Object(R.a)(t,e),Object(_.a)(t,[{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value}),this.state.errorMessage&&""!==e.target.value&&this.setState({errorMessage:""})}},{key:"handleChangeContent",value:function(e){this.setState({content:e})}},{key:"createArticle",value:function(){var e=this.state,t=(e.title,e.content,this.props);t.actions;t.history.push({pathname:"/",state:{successCreateArticle:!0}})}},{key:"clearArticle",value:function(){this.setState({title:"",content:"",errorMessage:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.content,r=t.errorMessage;return c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"ArticleContainer"},c.a.createElement("div",{className:"ArticleContent"},c.a.createElement("div",{className:"title"},c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:n,onChange:this.handleChangeTitle,placeholder:"\u8acb\u8f38\u5165\u81f3\u5c11\u4e00\u500b\u5b57\u5143"}),r&&c.a.createElement(V,{errorMessage:r}),c.a.createElement("div",{className:"btn",onClick:function(){e.createArticle()}},"\u78ba\u8a8d\u9001\u51fa"),c.a.createElement("div",{className:"btn",onClick:function(){e.clearArticle()}},"\u6e05\u7a7a"))),c.a.createElement(z,{content:a,onChange:this.handleChangeContent}))),c.a.createElement("div",{className:"text-align-center"},"preview section"),c.a.createElement("div",{className:"ArticleContainer"},c.a.createElement("div",{className:"ArticleContent"},c.a.createElement("div",{className:"title"},0===n.length?"\u6a19\u984c":n),c.a.createElement(y.a,{className:"padding-10",source:0===a.length?"\u5167\u5bb9":a}))))}}]),t}(i.Component)),G=Object(s.b)(null,(function(e){return{actions:Object(d.a)(Object(m.a)({},a),e)}}))($);function W(){var e=Object(A.a)(["\n  height: 90%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return W=function(){return e},e}var Y=T.a.div(W());function q(){return c.a.createElement(Y,null,c.a.createElement("h2",null,"404"),c.a.createElement("div",null,"No Mapping Article"))}var K=function(e){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(o.b,{to:"/",className:"home"},"home3"),c.a.createElement(o.b,{to:"/create/"},c.a.createElement(C,{handleClick:function(){console.log(1)}}))),c.a.createElement("div",{className:"App-body"},c.a.createElement(b.c,null,c.a.createElement(b.a,{exact:!0,path:"/",component:S}),c.a.createElement(b.a,{path:"/article/:id",component:X}),c.a.createElement(b.a,{path:"/create/",component:G}),c.a.createElement(b.a,{path:"/404/",component:q}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=function(e,t,n){var a="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):d.c;return Object(d.d)(E,n,a())}(0,0,window.INITIAL_STATE);l.a.render(c.a.createElement(s.a,{store:Q},c.a.createElement(o.a,null,c.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,n){e.exports=n(160)},68:function(e,t,n){},69:function(e,t,n){}},[[59,1,2]]]);
//# sourceMappingURL=main.39a399dc.chunk.js.map