(this["webpackJsonpmarkdown-editor"]=this["webpackJsonpmarkdown-editor"]||[]).push([[0],{153:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"GET_ARTICLES_DATA",(function(){return f})),a.d(n,"UPDATE_ARTICLE_DATA",(function(){return E})),a.d(n,"getArticlesData",(function(){return v})),a.d(n,"updateArticleData",(function(){return b}));var i=a(0),c=a.n(i),r=a(21),l=a.n(r),o=a(18),s=a(12),d=a(16),m=a(3),u=(a(67),a(7)),p=a(56),h=a(14),f="GET_ARTICLE_DATA",E="UPDATE_ARTICLE_DATA";function v(e){return{type:f}}function b(e,t,a,n){return{type:E,payload:{id:e,title:t,content:a,modifiedTime:n}}}var g={articles:[{id:"1",title:"title1",content:"# This is a header\n\nAnd this is a paragraph",modifiedTime:1579157754943},{id:"2",title:"title2",content:"### Step 1 : Create your app\n        ```$ npm install -g create-react-app $ create-react-app my-app\n        ``` ### Step 2 : Build it for production",modifiedTime:1579197794943}]};var O=Object(u.b)({articlesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(h.a)({},e);case E:var a=e.articles.findIndex((function(e){return e.id===t.payload.id})),n={id:t.payload.id,title:t.payload.title,content:t.payload.content,modifiedTime:t.payload.modifiedTime};return a>=0&&(e.articles[a]=n),localStorage.setItem("articles",JSON.stringify(e.articles)),Object(h.a)({},e,{articles:Object(p.a)(e.articles)});default:return e}}});a(68);var A=function(e){var t=e.handleClick;return c.a.createElement("div",{onClick:t},c.a.createElement("svg",{className:"octicon octicon-plus",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16",fill:"#fff","aria-hidden":"true"},c.a.createElement("path",{fillRule:"evenodd",d:"M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"})))},T=a(22),y=a(23),C=a(27),N=a(24),j=a(26),k=a(25),w=a.n(k),S=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(C.a)(this,Object(N.a)(t).call(this,e))).state={articles:localStorage.getItem("articles")?JSON.parse(localStorage.getItem("articles")):e.articles},a}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.history,t=this.state.articles.map((function(t,a){return c.a.createElement(i.Fragment,{key:a},c.a.createElement("div",{className:"ArticleContainer hover-effect fade-in",onClick:function(){e.push("/article/".concat(t.id))}},c.a.createElement("div",{className:"ArticleContent"},c.a.createElement("div",{className:"title"},t.title),c.a.createElement(w.a,{className:"padding-10",source:t.content}))))}));return c.a.createElement(i.Fragment,null,t,c.a.createElement("div",{className:"bottomBtn fade-in-delay"},"\u5df2\u7d93\u662f\u6700\u5f8c\u4e00\u7bc7\u6587\u7ae0\u4e86"))}}]),t}(i.Component),_=Object(d.b)((function(e){return{articles:e.articlesReducer.articles}}),(function(e){return{actions:Object(u.a)(Object(h.a)({},n),e)}}))(S),D=a(17),I=a(49),x=a(51),R=a(50);a(148),a(149),a(150),a(151);function F(){var e=Object(I.a)(["\n    padding: 12px 24px;\n    border: 1px solid;\n    color: #ec4646;\n    background: transparent;\n    font-size: 15px;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n    cursor: pointer;\n    transition: 0.3s ease all;\n"]);return F=function(){return e},e}var L=x.a.button(F()),B=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(C.a)(this,Object(N.a)(t).call(this,e))).state={mappingArticle:{},ableEdit:!1,title:"",content:"",modifiedTime:null,articles:localStorage.getItem("articles")?JSON.parse(localStorage.getItem("articles")):e.articles},a.handleChangeTitle=a.handleChangeTitle.bind(Object(D.a)(a)),a.editArticle=a.editArticle.bind(Object(D.a)(a)),a.cancelEdit=a.cancelEdit.bind(Object(D.a)(a)),a}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.state.articles.find((function(t){return t.id===e}));t&&this.setState({mappingArticle:t,title:t.title,content:t.content,modifiedTime:t.modifiedTime})}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"editArticle",value:function(){this.setState({ableEdit:!0})}},{key:"submitEdit",value:function(e){var t=this.props.actions,a=this.state,n=a.title,i=a.content;if(0!==n.length){var c=(new Date).getTime();this.setState({ableEdit:!1,modifiedTime:c}),t.updateArticleData(e,n,i,c)}}},{key:"cancelEdit",value:function(){this.setState({ableEdit:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.match.params.id,n=t.history,r=this.state,l=r.ableEdit,o=r.title,s=r.content,d=r.modifiedTime;return c.a.createElement(i.Fragment,null,c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"ArticleContainer"},c.a.createElement("div",{className:"ArticleContent"},!l&&c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"title"},o,c.a.createElement("div",{className:"btn",onClick:function(){e.editArticle(a)}},"edit")),c.a.createElement(w.a,{className:"padding-10",source:s})),l&&c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"title"},c.a.createElement("input",{type:"text",value:o,onChange:this.handleChangeTitle}),c.a.createElement("div",{className:"btn",onClick:function(){e.cancelEdit()}},"cancel"),c.a.createElement("div",{className:"btn",onClick:function(){e.submitEdit(a)}},"done")),c.a.createElement(R.Controlled,{value:s,options:{mode:"markdown",theme:"eclipse",lineNumbers:!0},onBeforeChange:function(t,a,n){e.setState({content:n})},onChange:function(e,t,a){}}))),c.a.createElement("div",{className:"ArticleFooter"},c.a.createElement("div",null,"Last-Modified: ".concat(function(e){if(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),c=t.getHours(),r=t.getMinutes(),l=t.getSeconds();return"".concat(a,"/").concat(n>9?n:"0".concat(n),"/").concat(i," - ").concat(c>9?c:"0".concat(c),":").concat(r>9?r:"0".concat(r),":").concat(l>9?l:"0".concat(l))}}(d))))),c.a.createElement(L,{className:"bottomBtn fade-in-delay",onClick:function(){n.push("/")}},"back to Articles")))}}]),t}(i.Component),M=Object(d.b)((function(e){return{articles:e.articlesReducer.articles}}),(function(e){return{actions:Object(u.a)(Object(h.a)({},n),e)}}))(B);var J=function(e){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(o.b,{to:"/",className:"home"},"home"),c.a.createElement(o.b,{to:"/create"},c.a.createElement(A,{handleClick:function(){console.log(1)}}))),c.a.createElement("div",{className:"App-body"},c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:_}),c.a.createElement(s.a,{exact:!0,path:"/article/:id",component:M}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=Object(m.a)(),H=function(e,t,a){var n="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c;return Object(u.d)(O,a,n())}(0,0,window.INITIAL_STATE);l.a.render(c.a.createElement(d.a,{store:H},c.a.createElement(o.a,{basename:"/markdown-editor"},c.a.createElement(s.b,{history:V},c.a.createElement(J,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,a){e.exports=a(153)},67:function(e,t,a){},68:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.29aa4844.chunk.js.map