(this["webpackJsonpmarkdown-editor"]=this["webpackJsonpmarkdown-editor"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"GET_ARTICLES_DATA",(function(){return h})),n.d(a,"UPDATE_ARTICLE_DATA",(function(){return f})),n.d(a,"getArticlesData",(function(){return E})),n.d(a,"updateArticleData",(function(){return v}));var i=n(0),c=n.n(i),r=n(21),l=n.n(r),o=n(18),d=n(12),s=n(16),u=(n(67),n(7)),m=n(56),p=n(14),h="GET_ARTICLE_DATA",f="UPDATE_ARTICLE_DATA";function E(e){return{type:h}}function v(e,t,n,a){return{type:f,payload:{id:e,title:t,content:n,modifiedTime:a}}}var b={articles:[{id:"1",title:"title1",content:"# This is a header\n\nAnd this is a paragraph",modifiedTime:1579157754943},{id:"2",title:"title2",content:"### Step 1 : Create your app\n        ```$ npm install -g create-react-app $ create-react-app my-app\n        ``` ### Step 2 : Build it for production",modifiedTime:1579197794943}]};var g=Object(u.b)({articlesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(p.a)({},e);case f:var n=e.articles.findIndex((function(e){return e.id===t.payload.id})),a={id:t.payload.id,title:t.payload.title,content:t.payload.content,modifiedTime:t.payload.modifiedTime};return n>=0&&(e.articles[n]=a),Object(p.a)({},e,{articles:Object(m.a)(e.articles)});default:return e}}});n(68);var A=function(e){var t=e.handleClick;return c.a.createElement("div",{onClick:t},c.a.createElement("svg",{className:"octicon octicon-plus",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16",fill:"#fff","aria-hidden":"true"},c.a.createElement("path",{fillRule:"evenodd",d:"M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"})))},O=n(22),T=n(23),C=n(26),y=n(24),j=n(27),k=n(25),w=n.n(k),_=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(C.a)(this,Object(y.a)(t).call(this,e))).state={},n}return Object(j.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.articles,n=e.history,a=t.map((function(e,t){return c.a.createElement(i.Fragment,{key:t},c.a.createElement("div",{className:"ArticleContainer fade-in",onClick:function(){n.push("/article/".concat(e.id))}},c.a.createElement("h2",null,e.title),c.a.createElement(w.a,{source:e.content})))}));return c.a.createElement(i.Fragment,null,a,c.a.createElement("div",{className:"fade-in-delay"},"\u5df2\u7d93\u662f\u6700\u5f8c\u4e00\u7bc7\u6587\u7ae0\u4e86"))}}]),t}(i.Component),N=Object(s.b)((function(e){return{articles:e.articlesReducer.articles}}),(function(e){return{actions:Object(u.a)(Object(p.a)({},a),e)}}))(_),D=n(17),S=n(49),I=n(51),x=n(50);n(148),n(149),n(150),n(151);function R(){var e=Object(S.a)(["\n    padding: 12px 24px;\n    border: 1px solid;\n    color: #ec4646;\n    background: transparent;\n    font-size: 15px;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n    cursor: pointer;\n    transition: 0.3s ease all;\n"]);return R=function(){return e},e}var L=I.a.button(R()),M=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(C.a)(this,Object(y.a)(t).call(this,e))).state={mappingArticle:{},ableEdit:!1,title:"",content:"",modifiedTime:null},n.handleChangeTitle=n.handleChangeTitle.bind(Object(D.a)(n)),n.editArticle=n.editArticle.bind(Object(D.a)(n)),n.cancelEdit=n.cancelEdit.bind(Object(D.a)(n)),n}return Object(j.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id,n=e.articles.find((function(e){return e.id===t}));n&&this.setState({mappingArticle:n,title:n.title,content:n.content,modifiedTime:n.modifiedTime})}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"editArticle",value:function(){this.setState({ableEdit:!0})}},{key:"submitEdit",value:function(e){var t=this.props.actions,n=this.state,a=n.title,i=n.content;if(0!==a.length){var c=(new Date).getTime();this.setState({ableEdit:!1,modifiedTime:c}),t.updateArticleData(e,a,i,c)}}},{key:"cancelEdit",value:function(){this.setState({ableEdit:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match.params.id,a=t.history,r=this.state,l=r.ableEdit,o=r.title,d=r.content,s=r.modifiedTime;r.mappingArticle;return c.a.createElement(i.Fragment,null,c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"ArticleContainer"},c.a.createElement("div",{className:"ArticleHeader"},c.a.createElement("div",null,!l&&c.a.createElement("h2",null,o),l&&c.a.createElement("input",{type:"text",value:o,onChange:this.handleChangeTitle})),c.a.createElement("div",null,!l&&c.a.createElement("div",{className:"btn",onClick:function(){e.editArticle(n)}},"edit"),l&&c.a.createElement("div",{className:"btn",onClick:function(){e.submitEdit(n)}},"done"),l&&c.a.createElement("div",{className:"btn",onClick:function(){e.cancelEdit()}},"cancel"))),c.a.createElement("div",{className:l?"":"ArticleContent"},!l&&c.a.createElement(w.a,{source:d}),l&&c.a.createElement(x.Controlled,{value:d,options:{mode:"markdown",theme:"eclipse",lineNumbers:!0},onBeforeChange:function(t,n,a){e.setState({content:a})},onChange:function(e,t,n){}})),c.a.createElement("div",{className:"ArticleFooter"},c.a.createElement("div",null,"Last-Modified: ".concat(function(e){if(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),c=t.getHours(),r=t.getMinutes(),l=t.getSeconds();return"".concat(n,"/").concat(a,"/").concat(i," - ").concat(c,":").concat(r,":").concat(l)}}(s)))))),c.a.createElement(L,{className:"backArticlesBtn",onClick:function(){a.push("/")}},"back to Articles"))}}]),t}(i.Component),B=Object(s.b)((function(e){return{articles:e.articlesReducer.articles}}),(function(e){return{actions:Object(u.a)(Object(p.a)({},a),e)}}))(M);var F=function(e){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(o.b,{to:"/",className:"home"},"home"),c.a.createElement(o.b,{to:"/create"},c.a.createElement(A,{handleClick:function(){console.log(1)}}))),c.a.createElement("div",{className:"App-body"},c.a.createElement(d.a,{path:"/",exact:!0,component:N}),c.a.createElement(d.a,{path:"/article/:id",component:B})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=function(e,t,n){var a="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c;return Object(u.d)(g,n,a())}(0,0,window.INITIAL_STATE);l.a.render(c.a.createElement(s.a,{store:H},c.a.createElement(o.a,null,c.a.createElement(d.c,null,c.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,n){e.exports=n(153)},67:function(e,t,n){},68:function(e,t,n){}},[[58,1,2]]]);
//# sourceMappingURL=main.64275edc.chunk.js.map